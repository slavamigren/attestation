# Аттестационное задание

***
Веб-приложение с API интерфейсом и админ-моделью
***

### Пояснения по модели сети:
Модель по продаже электроники содержит сущности Seller - продавец/поставщик и Product - продукты для продажи
- Seller может выступать в одной из трёх ролей: factory (завод), retail (торговая сеть), seller (индивидуальный предприниматель)
- Завод может быть поставщиком, но не может закупать и иметь задолженность.
- Торговая сеть может быть и поставщиком и продавцом, может закупать у заводов, других торговых сетей, индивидуальных предпринимателей и иметь задолженность.
- Индивидуальный предприниматель так же может быть и поставщиком и продавцом, может закупать у заводов, торговых сетей, индивидуальных предпринимателей и иметь задолженность.
- Поставщики не могут поставлять товары сами себе.
- Задолженность не может быть установлена в отсутствие поставщика.
- Задолженность не может быть изменена по API

Модель может быть изменена под уточнённые требования простым введением или снятием ограничений на роли Seller.
***
Приложение разворачивается в докере командой
> **docker-compose up**

после чего полностью готово к работе.

Если вам необходим суперпользователь, выполните команду
> **docker exec app_container python manage.py csu**

будет создан пользователь superuser@superuser.net с паролем "12345". Не забудьте сразу изменить пароль.

Контроллеры:
 - http://127.0.0.1:8000/users/create/ - создание нового пользователя POST запросом, необходимы поля user и password. Пользователи создаются активными. Неактивные пользователи не имеют доступа к API (активировать/деактивировать можно в админ-панели).
 - http://127.0.0.1:8000/users/token/ - получение токена POST запросом, необходимы поля user и password
 - http://127.0.0.1:8000/seller/ - контроллер для работы с поставщиками. При запросе списка поставщиков доступна фильтрация объектов по стране.

Админ-панель располагается по адресу:
- http://127.0.0.1:8000/admin/

В админ-панель добавлен "admin action", обнуляющий задолженность перед поставщиками.

Подробная документация доступна по адресам:

> **http://127.0.0.1:8000/docs/**
> 
> **http://127.0.0.1:8000/redoc/**

Все контроллеры покрыты тестами, общее покрытие кода тестами 94%, подробный отчёт содержится в файле **testreport.txt**  